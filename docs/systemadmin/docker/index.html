<!DOCTYPE html>
<html>
  <head>
    <title>Storefront Docs</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.31.1" />

<title>Docker :: Storefront Docs</title>
<link rel="shortcut icon" href="/openstorefront/images/favicon.png" type="image/x-icon" />
<link href="/openstorefront/css/nucleus.css" rel="stylesheet">
<link href="/openstorefront/css/font-awesome.min.css" rel="stylesheet">
<link href="/openstorefront/css/hybrid.css" rel="stylesheet">
<link href="/openstorefront/css/featherlight.min.css" rel="stylesheet">
<link href="/openstorefront/css/auto-complete.css" rel="stylesheet">
<link href="/openstorefront/theme-original/style.css" rel="stylesheet">

  <link href="/openstorefront/theme-original/variant-blue.css" rel="stylesheet">

<link rel="stylesheet" href="/openstorefront/css/bootstrap.min.css">
<script src="/openstorefront/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<meta name="description" content="">


    
  </head>
  <body data-url="/systemadmin/docker/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="showVisitedLinks">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <h4 style="color:white;">Open Storefront Documentation</h4>

  

    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/openstorefront/js/lunr.min.js"></script>
		<script type="text/javascript" src="/openstorefront/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "\/openstorefront\/";
        
		</script>
		<script type="text/javascript" src="/openstorefront/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/" class="dd-item">
            <a href="/openstorefront/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/evaluations/" class="dd-item">
      <a href="/openstorefront/evaluations/">
        <span>Evaluations</span><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/evaluations/evaluator/" class="dd-item">
      <a href="/openstorefront/evaluations/evaluator/">
        <span>Evaluator</span><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/evaluations/evaluator/storefront-evaluators-guide/" class="dd-item">
        <a href="/openstorefront/evaluations/evaluator/storefront-evaluators-guide/">
          <span>Evaluators Guide</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/evaluations/evaluator/faq/" class="dd-item">
        <a href="/openstorefront/evaluations/evaluator/faq/">
          <span>FAQ</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/evaluations/librarian/" class="dd-item">
      <a href="/openstorefront/evaluations/librarian/">
        <span>Librarian</span><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/evaluations/librarian/basic-entry-template-for-storefront/" class="dd-item">
        <a href="/openstorefront/evaluations/librarian/basic-entry-template-for-storefront/">
          <span>Basic Entry Template for Storefront</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/evaluations/librarian/createevaluationguide/" class="dd-item">
        <a href="/openstorefront/evaluations/librarian/createevaluationguide/">
          <span>Create an Evaluation</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/evaluations/librarian/publishinganevaluationguide/" class="dd-item">
        <a href="/openstorefront/evaluations/librarian/publishinganevaluationguide/">
          <span>Publish an Evaluation</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/dev/" class="dd-item">
      <a href="/openstorefront/dev/">
        <span>Developer</span><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/dev/developersguide/" class="dd-item">
        <a href="/openstorefront/dev/developersguide/">
          <span>Developer Guide</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/dev/architecture/" class="dd-item">
        <a href="/openstorefront/dev/architecture/">
          <span>Architecture</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/dev/front-end-code-standard/" class="dd-item">
        <a href="/openstorefront/dev/front-end-code-standard/">
          <span>Front-end Code Standards</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/dev/uiguide/" class="dd-item">
        <a href="/openstorefront/dev/uiguide/">
          <span>User Interface Guide</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/dev/server-code-standard/" class="dd-item">
        <a href="/openstorefront/dev/server-code-standard/">
          <span>Server Code Standard</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/systemadmin/" class="dd-item parent">
      <a href="/openstorefront/systemadmin/">
        <span>System Admin</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/systemadmin/setup/" class="dd-item">
        <a href="/openstorefront/systemadmin/setup/">
          <span>Setup</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/systemadmin/docker/" class="dd-item active">
        <a href="/openstorefront/systemadmin/docker/">
          <span>Docker</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/systemadmin/administratorguide/" class="dd-item">
        <a href="/openstorefront/systemadmin/administratorguide/">
          <span>Administrator Guide</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/systemadmin/datamigrationguide/" class="dd-item">
        <a href="/openstorefront/systemadmin/datamigrationguide/">
          <span>Data Migration Guide</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/systemadmin/versionmigrationguide/" class="dd-item">
        <a href="/openstorefront/systemadmin/versionmigrationguide/">
          <span>Version Migration</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/user/" class="dd-item">
      <a href="/openstorefront/user/">
        <span>User</span><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/user/userguide/" class="dd-item">
        <a href="/openstorefront/user/userguide/">
          <span>User Guide</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/user/quick-overview-of-submitting-a-new-component/" class="dd-item">
        <a href="/openstorefront/user/quick-overview-of-submitting-a-new-component/">
          <span>Submitting a New Component</span><i class="fa fa-circle-thin read-icon"></i>
        </a>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/di2e/openstorefront/tree/master" target="_blank" rel="noopener"><i class='fa fa-github'></i> Github repo</a></li>
                <li class="" role=""><a href="https://github.com/di2e/openstorefront/releases" target="_blank" rel="noopener"><i class='fa fa-download'></i> Releases</a></li>
        </section>
            <a id="clear-history" class="" href="#" data-clear-history-toggle=""><i class="fa  fa-history"></i> Clear History</a>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer"><div style="color: #E0E0DA;">
    <p>OpenStoreFront version 2.7.4</p>
    <p>Documentation generated on Feb 4, 2019</p>
    <p>Created using <a href="https://gohugo.io/">Hugo</a> version 0.31.1</p>
</div>
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    
      
      
      
    <div id="top-github-link">
      <a class="github-link" href="https://github.com/di2e/openstorefront/edit/master/Hugo-StaticGen-Docs/content/systemadmin/Docker.md" target="blank">
        <i class="fa fa-code-fork"></i>
        Edit page
      </a>
    </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/openstorefront/'>OpenStoreFront Documentation</a> > <a href='/openstorefront/systemadmin/'>System Admin</a> > Docker

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#release-docker-container">Release Docker Container</a></li>
<li><a href="#development-docker-container">Development Docker Container</a></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Docker</h1>
  



    
    
    
    

<p>The Open Storefront application contains a Dockerfile in order to build Docker images. There are two dockerfiles in the repo. One is for development which is used by Jenkins to deploy the application for testing of new features. The other dockerfile is for the release build. These can be found in the repo at <a href="https://github.com/di2e/openstorefront/tree/master/Docker">https://github.com/di2e/openstorefront/tree/master/Docker</a>.</p>

<p>Open Storefront also automatically builds release versions of the application for consumption by users.  These builds are available on <a href="http://hub.docker.com">Docker Hub</a>.</p>

<h2 id="release-docker-container">Release Docker Container</h2>

<p>To run the latest release container from Docker Hub run the following:</p>

<pre><code class="language-bash">docker run -p 9050:8080 openstorefront/openstorefront
</code></pre>

<p>To run a specific version of the application run:</p>

<pre><code class="language-bash">docker run -p 9050:8080 openstorefront/openstorefront:release-2.7.3
</code></pre>

<p>For available tags for the Docker container please see <a href="https://hub.docker.com/r/openstorefront/openstorefront/tags/">https://hub.docker.com/r/openstorefront/openstorefront/tags/</a></p>

<p>The only thing required to build the release docker container is the dockerfile found at <code>openstorefront/Docker/release</code>.</p>

<h2 id="development-docker-container">Development Docker Container</h2>

<p>To build the container you will need:</p>

<ul>
<li>a zip of an openstorefront database</li>
<li>the startup.sh</li>
<li>the tomcat-users.xml</li>
</ul>

<p>The <code>startup.sh</code> and <code>tomcat-users.xml</code> can be found at <a href="https://github.com/di2e/openstorefront/tree/master/Docker/develop">https://github.com/di2e/openstorefront/tree/master/Docker/develop</a>. To obtain the database take the database folder from a previous running instance of Storefront and zip the folder. Place all three items in the same directory as the dockerfile when building the image. To build the image run:</p>

<pre><code class="language-bash">docker build -t some-tag .
</code></pre>

<p>To run the container you will need:</p>

<ul>
<li>a war file to mount to the container</li>
</ul>

<p>Run the container as a detached process with:</p>

<pre><code class="language-bash">docker run -d \
-v $(pwd)/openstorefront.war:/usr/local/tomcat/webapps/openstorefront.war \
-p 8081:8080 \
openstorefront
</code></pre>

<p>Since there is already a dataset built into the container, in order to run the application on an empty database point the database location to a different location with:</p>

<pre><code class="language-bash">docker run -d \
-v $(pwd)/openstorefront.war:/usr/local/tomcat/webapps/openstorefront.war \
-p 8081:8080 \
--env CATALINA_OPTS=&quot;-Xmx2048m -Dapplication.datadir=/var/selenium&quot; \
openstorefront
</code></pre>


    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="/openstorefront/systemadmin/setup/" title="Setup"> <i class="fa fa-chevron-left"></i></a>
    <a class="nav nav-next" href="/openstorefront/systemadmin/administratorguide/" title="Administrator Guide" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a></div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/openstorefront/js/clipboard.min.js"></script>
<script src="/openstorefront/js/featherlight.min.js"></script>
<script src="/openstorefront/js/html5shiv-printshiv.min.js"></script>
<script src="/openstorefront/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/openstorefront/js/modernizr.custom.71422.js"></script>
<script src="/openstorefront/js/docdock.js"></script>
<script src="/openstorefront/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>